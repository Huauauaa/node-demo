{"version":3,"sources":["contexts/data-context.ts","components/NameList.tsx","http.ts","components/Home.tsx","components/NameInfo.tsx","components/Excel.tsx","views/Dashboard.tsx","route.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["DataContext","React","createContext","data","setData","dispatch","NameList","onDelete","onEdit","useContext","columns","title","dataIndex","key","render","pinyins","map","item","index","text","record","size","EditOutlined","className","onClick","onConfirm","onCancel","okText","cancelText","DeleteOutlined","style","color","dataSource","pagination","showTotal","total","http","axios","create","baseURL","timeout","interceptors","response","use","result","Promise","reject","Search","Input","pinyin","require","Home","useState","input","setInput","target","setTarget","wordInfo","setWordInfo","useEffect","inputPinyins","STYLE_NORMAL","filter","_","intersection","flatten","length","width","bordered","renderItem","Item","placeholder","allowClear","enterButton","onSearch","value","get","params","wd","t","Date","now","then","name","join","showHeader","layout","labelCol","span","wrapperCol","NameInfo","isModalVisible","setIsModalVisible","nameInfo","type","Form","useForm","form","resetFields","handleOk","a","validateFields","submit","visible","onOk","destroyOnClose","preserve","onFinish","values","pinyinKeys","Object","keys","startsWith","newName","findIndex","slice","uuid","initialValues","onFinishFailed","errorInfo","console","info","label","rules","required","message","initialValue","Excel","InputFiles","accept","onChange","files","fileReader","FileReader","readAsBinaryString","onload","event","validExts","fileExt","Error","fileType","substring","lastIndexOf","includes","workbook","XLSX","sheet","Sheets","hasOwnProperty","concat","sheet_to_json","table","pinyinData","cachedData","JSON","parse","localStorage","getItem","unionBy","e","warn","icon","UploadOutlined","Dashboard","routers","path","component","setNameInfo","operationType","setOperationType","PlusOutlined","App","menuRef","useRef","setItem","stringify","Provider","route","exact","props","history","push","selectedKeys","location","pathname","mode","ref","HomeOutlined","UnorderedListOutlined","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.5c8b1e59.chunk.js","sourcesContent":["import React from 'react';\n\nconst DataContext = React.createContext({\n  data: [],\n  setData: (dispatch: any): void => {},\n});\nexport default DataContext;\n","import React, { useContext } from 'react';\nimport DataContext from '../contexts/data-context';\nimport { Table, Tag, Space, Popconfirm } from 'antd';\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\nimport '../assets/name-list.less';\n\nfunction NameList({ onDelete, onEdit }: any) {\n  const { data } = useContext(DataContext);\n\n  const columns = [\n    {\n      title: '序号',\n      dataIndex: 'index',\n      key: 'index',\n    },\n    {\n      title: '姓名',\n      dataIndex: 'name',\n      key: 'name',\n    },\n    {\n      title: '拼音',\n      dataIndex: 'pinyins',\n      key: 'pinyins',\n      render: (pinyins: [string]) => {\n        return pinyins.map((item: string, index: number) => (\n          <Tag key={index}>{item}</Tag>\n        ));\n      },\n    },\n    {\n      title: '操作',\n      key: 'action',\n      render: (text: any, record: any) => (\n        <Space size=\"middle\">\n          <EditOutlined\n            className=\"action-item\"\n            onClick={() => onEdit(record)}\n          />\n          <Popconfirm\n            title=\"确认删除?\"\n            onConfirm={() => onDelete(record.key)}\n            onCancel={() => {}}\n            okText=\"是\"\n            cancelText=\"否\"\n          >\n            <DeleteOutlined className=\"action-item\" style={{ color: 'red' }} />\n          </Popconfirm>\n        </Space>\n      ),\n    },\n  ];\n  return (\n    <>\n      <Table\n        dataSource={data.map((item: NameType, index) => ({\n          ...item,\n          index: index + 1,\n        }))}\n        columns={columns}\n        pagination={{\n          showTotal: (total) => `共 ${total} 项`,\n        }}\n      />\n    </>\n  );\n}\n\nexport default NameList;\n","import axios from 'axios';\nconst http = axios.create({\n  baseURL: './api',\n  timeout: 60e3,\n});\n\nhttp.interceptors.response.use(\n  function resolve(result) {\n    const { data } = result;\n    return data;\n  },\n  function reject(data) {\n    const { response } = data;\n    return Promise.reject(response.data);\n  },\n);\n\nexport default http;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Input, Table, List, Tag } from 'antd';\nimport DataContext from '../contexts/data-context';\nimport _ from 'lodash';\nimport '../assets/home.less';\nimport http from '../http';\n\nconst { Search } = Input;\nconst pinyin = require('pinyin');\n\nfunction Home() {\n  const [input, setInput] = useState('');\n  const [target, setTarget] = useState([]);\n  const { data } = useContext(DataContext);\n  const [wordInfo, setWordInfo] = useState([]);\n\n  const onSearch = (value: string) => {\n    http\n      .get(`/word`, {\n        params: {\n          wd: value,\n          t: Date.now(),\n        },\n      })\n      .then((response) => {\n        setWordInfo(response as any);\n        setInput(value);\n      });\n  };\n\n  useEffect(() => {\n    if (input) {\n      const inputPinyins = pinyin(input, { style: pinyin.STYLE_NORMAL });\n      setTarget(\n        data.filter(\n          (item: any) =>\n            _.intersection(_.flatten(inputPinyins), _.flatten(item.pinyins))\n              .length > 0,\n        ),\n      );\n    } else {\n      setTarget([]);\n    }\n  }, [input, data]);\n\n  const columns = [\n    {\n      title: 'label',\n      dataIndex: 'label',\n      key: 'label',\n      width: '100px',\n    },\n    {\n      title: 'content',\n      dataIndex: 'content',\n      key: 'content',\n      render: (data: string[]) =>\n        data.length === 1 ? (\n          <Tag color=\"blue\">{data}</Tag>\n        ) : (\n          <List\n            size=\"small\"\n            bordered\n            dataSource={data}\n            renderItem={(item) => <List.Item>{item}</List.Item>}\n          />\n        ),\n    },\n  ];\n\n  return (\n    <div className=\"home-wrapper\">\n      <Search\n        placeholder=\"请输入姓名\"\n        allowClear\n        enterButton=\"检测\"\n        size=\"large\"\n        onSearch={onSearch}\n      />\n\n      <div className=\"search-result\">\n        {target.map((item: any) => item.name).join(', ')}\n      </div>\n      <Table\n        dataSource={wordInfo.map((item: any, index) => ({\n          ...item,\n          key: index,\n        }))}\n        showHeader={false}\n        columns={columns}\n        pagination={false}\n      ></Table>\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { useEffect, useContext } from 'react';\nimport { Modal, Form, Input } from 'antd';\nimport DataContext from '../contexts/data-context';\nimport uuid from 'uuid/v4';\n\nconst pinyin = require('pinyin');\n\nconst layout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 18 },\n};\n\nfunction NameInfo({\n  isModalVisible,\n  setIsModalVisible,\n  nameInfo,\n  type,\n}: NameInfoProps) {\n  const [form] = Form.useForm();\n  const { data, setData } = useContext(DataContext);\n\n  useEffect(() => {\n    if (isModalVisible) {\n      form.resetFields();\n    }\n  }, [form, isModalVisible]);\n\n  const handleOk = async () => {\n    await form.validateFields();\n    form.submit();\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  const onFinish = (values: NameType) => {\n    const pinyinKeys = Object.keys(values).filter((key) =>\n      key.startsWith('pinyin'),\n    );\n    if (type === 'edit') {\n      const newName = {\n        ...nameInfo,\n        name: values.name,\n        pinyins: pinyinKeys.map((key: string) => (values as any)[key]),\n      };\n      const index = data.findIndex(\n        (item: NameType) => item.key === nameInfo.key,\n      );\n      setData([...data.slice(0, index), newName, ...data.slice(index + 1)]);\n    } else {\n      const newName = {\n        name: values.name,\n        pinyins: pinyin(values.name, { style: pinyin.STYLE_NORMAL }),\n        key: uuid(),\n      };\n      setData([newName, ...data]);\n    }\n  };\n\n  const onFinishFailed = (errorInfo: any) => {\n    console.info('Failed:', errorInfo);\n  };\n\n  return (\n    <Modal\n      title={`${type === 'edit' ? '编辑' : '添加'}`}\n      visible={isModalVisible}\n      onOk={handleOk}\n      onCancel={handleCancel}\n      destroyOnClose={false}\n      okText=\"确认\"\n      cancelText=\"取消\"\n    >\n      <Form\n        form={form}\n        preserve={false}\n        {...layout}\n        name=\"basic\"\n        onFinish={onFinish}\n        initialValues={{ name: nameInfo.name, pinyins: nameInfo.pinyins }}\n        onFinishFailed={onFinishFailed}\n      >\n        <Form.Item\n          label=\"姓名\"\n          name=\"name\"\n          rules={[{ required: true, message: '请输入姓名' }]}\n        >\n          <Input />\n        </Form.Item>\n        {nameInfo.pinyins?.map((item, index) => (\n          <Form.Item\n            label={`拼音${index + 1}`}\n            name={`pinyin${index}`}\n            key={index}\n            initialValue={item}\n            rules={[{ required: true, message: '请输入拼音' }]}\n          >\n            <Input />\n          </Form.Item>\n        ))}\n      </Form>\n    </Modal>\n  );\n}\n\nexport default NameInfo;\n","import React, { useContext } from 'react';\nimport { Button, message } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons';\nimport * as XLSX from 'xlsx';\nimport InputFiles from 'react-input-files';\nimport DataContext from '../contexts/data-context';\nimport _ from 'lodash';\nimport uuid from 'uuid/v4';\nconst pinyin = require('pinyin');\n\nfunction Excel() {\n  const { setData } = useContext(DataContext);\n\n  const onImportExcel = (files: FileList) => {\n    const fileReader: MyFileReader = new FileReader();\n    for (let index = 0; index < files.length; index++) {\n      fileReader.name = files[index].name;\n    }\n    fileReader.readAsBinaryString(files[0]);\n    fileReader.onload = (event: any) => {\n      try {\n        const validExts = ['.xlsx', '.xls'];\n        const fileExt = event?.target?.name;\n\n        if (fileExt === null) {\n          throw Error('Empty');\n        }\n\n        const fileType = fileExt.substring(fileExt.lastIndexOf('.'));\n        if (!validExts.includes(fileType)) {\n          throw Error(`Type Error: ${validExts}`);\n        }\n\n        const { result } = event.target;\n        const workbook = XLSX.read(result, { type: 'binary' });\n        let data: any[] = [];\n        for (const sheet in workbook.Sheets) {\n          if (workbook.Sheets.hasOwnProperty(sheet)) {\n            data = data.concat(\n              XLSX.utils.sheet_to_json(workbook.Sheets[sheet]),\n            );\n          }\n        }\n        console.table(data);\n        const pinyinData = data.map((item: NameType) => ({\n          ...item,\n          pinyins: pinyin(item.name, { style: pinyin.STYLE_NORMAL }),\n          key: uuid(),\n        }));\n        const cachedData = JSON.parse(localStorage.getItem('data') || '[]');\n        setData(_.unionBy(pinyinData, cachedData, 'name'));\n      } catch (e) {\n        message.warn(e);\n        return;\n      }\n    };\n  };\n  return (\n    <InputFiles accept=\".xlsx, .xls\" onChange={onImportExcel}>\n      <Button type=\"primary\" icon={<UploadOutlined />}>\n        上传\n      </Button>\n    </InputFiles>\n  );\n}\n\nexport default Excel;\n","import React, { useState, useContext } from 'react';\nimport DataContext from '../contexts/data-context';\nimport NameList from '../components/NameList';\nimport { Button } from 'antd';\nimport NameInfo from '../components/NameInfo';\nimport Excel from '../components/Excel';\nimport '../assets/dashboard.less';\nimport { PlusOutlined } from '@ant-design/icons';\n\nfunction Dashboard() {\n  const { data, setData } = useContext(DataContext);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [nameInfo, setNameInfo] = useState({ name: '' });\n  const [operationType, setOperationType] = useState('');\n\n  const onDelete = (key: string): void => {\n    setData(data.filter((item: NameType) => item.key !== key));\n  };\n\n  const onEdit = (nameInfo: NameType): void => {\n    setIsModalVisible(true);\n    setNameInfo(nameInfo);\n    setOperationType('edit');\n  };\n\n  const onAdd = () => {\n    setIsModalVisible(true);\n    setNameInfo({ name: '' });\n    setOperationType('add');\n  };\n\n  return (\n    <div className=\"dashboard-wrapper\">\n      <div className=\"operations\">\n        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => onAdd()}>\n          添加\n        </Button>\n        <Excel></Excel>\n      </div>\n      <div className=\"data-list\">\n        <NameList onDelete={onDelete} onEdit={onEdit}></NameList>\n      </div>\n      <NameInfo\n        isModalVisible={isModalVisible}\n        setIsModalVisible={setIsModalVisible}\n        nameInfo={nameInfo}\n        type={operationType}\n      />\n    </div>\n  );\n}\n\nexport default Dashboard;\n","import NameList from './components/NameList';\nimport Home from './components/Home';\nimport Dashboard from './views/Dashboard';\n\nconst routers = [\n  {\n    path: '/',\n    name: 'home',\n    component: Home,\n  },\n  {\n    path: '/dashboard',\n    name: 'dashboard',\n    component: Dashboard,\n  },\n  {\n    path: '/list',\n    name: 'list',\n    component: NameList,\n  },\n];\n\nexport default routers;\n","import React, { useState, useEffect, useRef } from 'react';\nimport './assets/App.less';\nimport DataContext from './contexts/data-context';\nimport { Menu } from 'antd';\nimport { UnorderedListOutlined, HomeOutlined } from '@ant-design/icons';\n\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport routers from './route';\n\nfunction App() {\n  const menuRef = useRef(null);\n  const cachedData = JSON.parse(localStorage.getItem('data') || '[]');\n  const [data, setData] = useState(cachedData);\n\n  useEffect(() => {\n    localStorage.setItem('data', JSON.stringify(data));\n  }, [data]);\n\n  return (\n    <div className=\"App\">\n      <DataContext.Provider value={{ data, setData }}>\n        <Router>\n          <Switch>\n            {routers.map((route) => {\n              return (\n                <Route\n                  path={route.path}\n                  exact\n                  key={route.name}\n                  render={(props) => {\n                    return (\n                      <>\n                        <Menu\n                          onClick={(e) => props.history.push(`${e.key}`)}\n                          selectedKeys={[props.location.pathname]}\n                          mode=\"horizontal\"\n                          ref={menuRef}\n                        >\n                          <Menu.Item key=\"/\" icon={<HomeOutlined />}>\n                            首页\n                          </Menu.Item>\n                          <Menu.Item\n                            key=\"/dashboard\"\n                            icon={<UnorderedListOutlined />}\n                          >\n                            数据\n                          </Menu.Item>\n                        </Menu>\n                        <route.component {...props}></route.component>\n                      </>\n                    );\n                  }}\n                ></Route>\n              );\n            })}\n          </Switch>\n        </Router>\n      </DataContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/index.less';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}